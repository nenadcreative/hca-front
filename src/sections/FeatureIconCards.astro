---
import Container from "../layouts/Container.astro";
import { BlocksRenderer } from "@strapi/blocks-react-renderer";
import ButtonLink from "../components/ButtonLink.astro";
import { Image } from "astro:assets";

const { content } = Astro.props;

const bg = content.background;

const backgrounds = {
  gray: "bg-gray",
  white: "bg-white",
};

console.log(content);
---

<section
  class=` ${backgrounds[bg]} text-center bg-cover bg-no-repeat bg-feature-bg pt-20 pb-24`
>
  <Container>
    <div class="max-w-[800px] mx-auto text-center">
      {
        content.tagline && (
          <p class="mb-2 tagline text-brand-blue">{content.tagline}</p>
        )
      }
      <h2 class="mb-5">{content.title}</h2>
      {content.description && <BlocksRenderer content={content.description} />}
    </div>
    <div
      class="mt-14 mb-14 flex flex-col justify-between items-center lg:flex-nowrap sm:flex-wrap sm:flex-row sm:items-stretch gap-10"
    >
      {
        content.cards.map((card) => (
          <div class=" max-w-[350px] mx-auto sm:mx-0 lg:w-1/3  lg:max-w-full  flex flex-col items-center bg-white rounded-lg px-4 sm:px-7 py-6 sm:py-12 shadow-lg">
            <p class=" mb-5 font-display text-display-md font-bold">
              {card.title}
            </p>
            <BlocksRenderer content={card.description} />
          </div>
        ))
      }
    </div>
    {
      content.button && (
        <ButtonLink
          button={content.button}
          target={content.button.target}
          variant={content.button.type}
        />
      )
    }
  </Container>
</section>
